<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Quote</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<script>
    function acceptCookies(choice) {
        localStorage.setItem("cookieConsent", choice);
        document.getElementById("cookie-banner").style.display = "none";

        if (choice === "all") {
            console.log("All cookies accepted.");
        } else if (choice === "essential") {
            console.log("Only essential cookies accepted.");
        } else {
            console.log("All cookies rejected.");
        }
    }

    document.addEventListener("DOMContentLoaded", function () {
        if (!localStorage.getItem("cookieConsent")) {
            document.getElementById("cookie-banner").style.display = "flex";
        }
    });
</script>
<body>
    <h2>Stock Quote App</h2>
    <form method="POST">
        <input type="text" name="symbol" placeholder="Enter stock symbol" required>
        <button type="submit">Get Quote</button>
    </form>

    {% if stock_data %}
    <h3>Stock: {{ stock_data.name }} ({{ stock_data.symbol }})</h3>
    <p>Price: {{ stock_data.price }} {{ stock_data.currency }}</p>
    <p>Previous Close: {{ stock_data.previous_close }}</p>
    <p>This is a demo webpage; the data displayed may not be accurate.</p>
    {% endif %}

    {% if error %}
    <p class="error">{{ error }}</p>  <!-- Add error class for styling -->
    {% endif %}

    <div id="cookie-banner" class="cookie-banner">
        <p>We use cookies to enhance your experience. You can accept all cookies, only essential cookies, or reject all.</p>
        <button onclick="acceptCookies('all')">Accept All</button>
        <button onclick="acceptCookies('essential')">Essential Only</button>
        <button onclick="acceptCookies('none')">Reject All</button>
    </div>

</body>
</html>
